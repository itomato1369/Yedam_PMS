<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org/"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default_layout}"
	layout:fragment="Content">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/css/bootstrap-datepicker.min.css" />

<!-- 1. jQuery = JavaScript 라이브러리-->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- 2. bootstrap-datepicker 본체 -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/js/bootstrap-datepicker.min.js"></script>
<!-- 3. 한국어 캘린더-->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/locales/bootstrap-datepicker.ko.min.js"></script>

<title>소요시간 전체 조회</title>
</head>
<body>
	<div class="container">
		<div class="mb-3">
			<label class="fw-bold">소요시간 전체 조회</label>
		</div>

		<!-- 검색조건  -->
		<form th:action="@{/worklist}" method="get" id="searchForm">
			<div id="dynamicSearch" class="row g-3 mb-3">
				<div
					th:replace="~{common/fragments/work/dynamic-search :: JobIdField}"></div>
							<div
					th:replace="~{common/fragments/work/dynamic-search :: JobTitleField}"></div>
				<div
					th:replace="~{common/fragments/work/dynamic-search :: WorkersField}"></div>
				<div
					th:replace="~{common/fragments/work/dynamic-search :: WorkDateField}"></div>
				<div
					th:replace="~{common/fragments/work/dynamic-search :: WorkTypeField}"></div>
				<div
					th:replace="~{common/fragments/work/dynamic-search :: WorkContentField}"></div>
			</div>

			<!-- 검색조건 추가 버튼 -->
			<div class="mb-3 d-flex align-items-center justify-content-end">
				<div class="dropdown me-2">
					<button class="btn btn-secondary dropdown-toggle" type="button"
						data-bs-toggle="dropdown">검색조건 추가</button>
					<ul class="dropdown-menu">
					<li><a class="dropdown-item add-condition" href="#"
							data-target="field-jobId">일감번호</a></li>
						<li><a class="dropdown-item add-condition" href="#"
							data-target="field-jobTitle">일감제목</a></li>
						<li><a class="dropdown-item add-condition" href="#"
							data-target="field-workers">담당자</a></li>
						<li><a class="dropdown-item add-condition" href="#"
							data-target="field-workDate">작업일시</a></li>
						<li><a class="dropdown-item add-condition" href="#"
							data-target="field-workType">작업분류</a></li>
						<li><a class="dropdown-item add-condition" href="#"
							data-target="field-workContent">작업내용</a></li>
					</ul>
				</div>
				<button type="submit" class="btn btn-primary">조회</button>
			</div>
		</form>


		<!-- 소요시간 전체 조회되는 테이블 -->
		<table class="table table-hover text-center">
			<thead class="table-light">
				<tr>
					<th>일감번호</th>
					<th>일감제목</th>
					<th>작업분류</th>
					<th>작업일시</th>
					<th>작업시간</th>
					<th>담당자</th>
					<th>수정/상세</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="list : ${workEntriesList}">
					<td th:text="${list.jobId}"></td>
					<td th:text="${list.title}"></td>
					<td th:text="${list.workType}"></td>
					<td th:text="${#dates.format(list.workDate, 'yyyy-MM-dd')}"></td>
					<td th:text="${list.workTime}"></td>
					<td th:text="${list.workers}"></td>
					<td><a href="#" class="btn btn-sm btn-outline-primary">수정</a></td>
				</tr>
			</tbody>
		</table>
	</div>

	<script th:src="@{/js/work/workList.js}"></script>
</body>
</html>
