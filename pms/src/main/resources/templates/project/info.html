<!doctype html>
<!--
* CoreUI - Free Bootstrap Admin Template
* @version v5.3.0
* @link https://coreui.io/product/free-bootstrap-admin-template/
* Copyright (c) 2025 creativeLabs Łukasz Holeczek
* Licensed under MIT (https://github.com/coreui/coreui-free-bootstrap-admin-template/blob/main/LICENSE)
-->
<html lang="ko" xmlns:th="https://www.thymeleaf.org/"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default-layout}"
	layout:fragment="Content">
<div class="mb-2">
	<!--/* row-header */-->
	<div class="d-flex justify-content-between align-items-center mb-5">
		<div class="d-flex align-items-center">
			<div class="position-relative">
				<h2 class="fw-bold m-0 text-dark" th:text="개요"></h2>
			</div>
		</div>
	</div>
</div>

<div class="d-flex flex-column gap-4">

<!--/* ━━━━━━━━━━━━━━━━━━━━ 카드 1: 일감 추적 ━━━━━━━━━━━━━━━━━━━━ */-->
<div class="card">
  <div class="card-header d-flex align-items-center gap-2 fs-4">
    <i class="cil-task"></i>
    <strong>일감 추적</strong>
  </div>
  <div class="card-body">
    <!--/* 안쪽 카드 */-->
    <div class="card bg-light border mb-0">
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-hover table-bordered mb-0">
            <thead class="table-light">
              <tr>
                <th></th>
                <th class="text-center">진행중</th>
                <th class="text-center">완료됨</th>
                <th class="text-center">합계</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left col-2 col-md-1"><a class="text-decoration-none">결함</a></td>
                <td class="text-center text-primary fw-bold">4</td>
                <td class="text-center text-success fw-bold">1</td>
                <td class="text-center text-indigo fw-bold">5</td>
              </tr>
              <tr>
                <td class="text-left col-2 col-md-1"><a class="text-decoration-none">새기능</a></td>
                <td class="text-center text-primary fw-bold">5</td>
                <td class="text-center text-success fw-bold">0</td>
                <td class="text-center text-indigo fw-bold">5</td>
              </tr>
              <tr>
                <td class="text-left col-2 col-md-1"><a class="text-decoration-none">지원</a></td>
                <td class="text-center text-primary fw-bold">2</td>
                <td class="text-center text-success fw-bold">1</td>
                <td class="text-center text-indigo fw-bold">3</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="card-footer d-flex gap-2">
    <a class="text-decoration-none">모든 일감 보기</a>
    <span class="text-muted">|</span>
    <a class="text-decoration-none">변경 사항 보기</a>
    <span class="text-muted">|</span>
    <a th:href="@{/project/user/{projectCode}/gantt(projectCode=${projectCode})}" class="text-decoration-none">Gantt 차트</a>
  </div>
</div>

<!--/* ━━━━━━━━━━━━━━━━━━━━ 카드 2: 최근 뉴스 - 사용안하는건데 잘못알고 넣어뒀던거라 제거함 ━━━━━━━━━━━━━━━━━━━━ */-->
<!--/* 
<div class="card">
  <div class="card-header d-flex align-items-center gap-2 fs-4">
    <i class="cil-newspaper"></i>
    <strong>최근 뉴스</strong>
  </div>

  <div class="card-body d-flex flex-column gap-2">
  	/* 개별 뉴스 항목 */
  	<div th:each="notice : ${news}" class="card border mb-0">
	<div class="card-body py-2 px-3">
	    <div class="d-flex align-items-center gap-2 mb-1">
	      <a href="#" class="fw-semibold text-decoration-none" th:text="${notice.title}"></a>
	    </div>
	    <div class="text-muted small">
	      <i class="cil-user"></i>
	      <span th:text="|${notice.username}이(가) ${#dates.format(notice.addDate, 'yyyy-MM-dd HH:mm')}에 추가함|"></span>
	    </div>
	  </div>
	</div>
  </div>

  <div class="card-footer d-flex gap-2">
    <a class="text-decoration-none">모든 뉴스</a>
  </div>
</div> 
*/-->

<!--/* ━━━━━━━━━━━━━━━━━━━━ 카드 3: 구성 인원 ━━━━━━━━━━━━━━━━━━━━ */-->
<div class="card">
  <div class="card-header d-flex align-items-center gap-2 fs-4">
    <i class="cil-people"></i>
    <strong>구성원</strong>
  </div>

  <div class="card-body d-flex flex-column gap-2">
  <!--/* 그룹별로 반복 */-->
  <div th:each="entry : ${groupMembers}">
    
    <!--/* 라벨 (그룹명) */-->
    <div class="text-muted small">
      <i class="cil-people"></i>
      <span th:text="${entry.key}">그룹명</span>
    </div>

    <!--/* 안쪽 카드 (멤버 목록) */-->
    <div class="card border mb-2">
      <div class="card-body py-2 px-3 d-flex flex-wrap gap-2">
        <a th:each="userName : ${entry.value}" 
           href="#" 
           class="badge bg-primary-subtle text-primary text-decoration-none"
           th:text="${userName}">
        </a>
      </div>
    </div>
  </div>

  <!--/* 구성원 없을 때 */-->
  <div th:if="${#maps.isEmpty(groupMembers)}" 
       class="d-flex align-items-center justify-content-center py-4">
    <span class="text-secondary">구성원이 없습니다.</span>
  </div>
</div>
  
</div>

<!--/* ━━━━━━━━━━━━━━━━━━━━ 카드 4: 하위 프로젝트 ━━━━━━━━━━━━━━━━━━━━ */-->
<div class="card">
	<div class="card-header d-flex align-items-center gap-2 fs-4">
		<i class="cil-layers"></i>
		<strong>하위 프로젝트</strong>
	</div>
	<div class="card-body">
	    <!--/* 안쪽 카드 */-->
		<div class="card border mb-0">
			<!--/* 하위 프로젝트 목록이 있을 경우 */-->
			<ul th:if="${not #lists.isEmpty(childProjects)}" class="list-group list-group-flush">
	        	<li th:each=" cp : ${childProjects}" class="list-group-item d-flex align-items-center gap-2">
	        		<i class="cil-folder text-success"></i>
	        		<a th:href="@{/project/user/{projectCode}/info(projectCode=${cp.projectCode})}"
	        			 class="text-decoration-none fw-semibold" th:text="${cp.projectName}"></a>
          			<span class="ms-auto badge bg-success-subtle text-success" th:text="${cp.statusName}"></span>
	        	</li>
			</ul>
			<!--/* 하위 프로젝트 목록이 없을 경우 */-->
			<div th:unless="${not #lists.isEmpty(childProjects)}"
		         class="d-flex align-items-center justify-content-center py-4">
		        <span class="text-secondary">프로젝트가 없습니다.</span>
		    </div>
		</div>
		
	</div>
</div>


</div>
</html>
